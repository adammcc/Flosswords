function getRandomSubarray(r,o){for(var a,t,d=r.slice(0),e=r.length;e--;)t=Math.floor(e*Math.random()),a=d[t],d[t]=d[e],d[e]=a;return d.slice(0,o)}function ClearBoard(){for(board=[],x=0;board_width>x;x++)for(board.push([]),y=0;board_width>y;y++)board[x].push(" ")}function MatchedLetters(r){var o=[];for(x=0;board_width>x;x++)for(y=0;board_width>y;y++){var a=board[x][y].toUpperCase();r.indexOf(a)>-1&&o.push(new Array(a,x,y))}return o}function BlankPrior(r,o,a,t){return a=-1*a,t=-1*t,r+=a,o+=t,board[r]?" "==board[r][o]?!0:!1:!0}function BlankAfter(r,o,a,t,d){return a*=d.length+1,t*=d.length+1,r+=a,o+=t,board[r]?" "==board[r][o]?!0:!1:!0}function ScorePath(r,o,a,t,d){var e=0,n=d.length,s=0;if(px=r-a,py=o-t,board[px]&&" "!=board[px][py])return-1;for(var l=0;n>l;l++){if(!(board_width>r&&board_board>o&&r>-1&&o>-1))return-1;if(" "!=board[r][o]){if(board[r][o]!=d[l])return-1;e+=1}else s+=1;if(board[r][o]!=d[l]){if(1==a){var i=0;if(board[r][o-1]?" "==board[r][o-1]&&(i+=1):i+=1,board[r][o+1]?" "==board[r][o+1]&&(i+=1):i+=1,2!=i)return-1;e+=1}if(1==t){var i=0;if(board[r-1]?" "==board[r-1][o]&&(i+=1):i+=1,board[r+1]?" "==board[r+1][o]&&(i+=1):i+=1,2!=i)return-1;e+=1}}r+=a,o+=t}return board[r]&&" "!=board[r][o]?-1:(s==d.length&&(e=0),e)}function CrossablePlaces(r){var o=[];MatchedLetters(r);var a=0,t=0,d=0,e=0,n=0;for(x=0;board_width>x;x++)for(y=0;board_width>y;y++)Hscore=ScorePath(x,y,1,0,r),Vscore=ScorePath(x,y,0,1,r),Hscore>a&&(a=Hscore,d=x,n=y,t=1,e=0),Vscore>a&&(a=Vscore,d=x,n=y,t=0,e=1);return a>0&&o.push(new Array(a,d,n,t,e)),o}function PlaceWord(r,o,a,t,d){null!=r&&null!=o&&null!=a&&null!=t&&null!=d&&clues.push(new oyCrosswordClue(d.length,"",d,"",t,r,o));for(var e=d.length,n=0;e>n;n++)board[r]&&(board[r][o]=d[n]),r+=a,o+=t;return 1==a&&Horizontal.push(new Array(r,o,d)),1==t&&Vertical.push(new Array(r,o,d)),!0}function PathIsClear(r,o,a,t,d){for(var e=d.length,n=0;e>n;n++){if(!board[r])return!1;if(" "!=board[r][o])return!1;if(ScorePath(r,o,a,t,d)<0)return!1;r+=a,o+=t}return!0}function PlaceAtRandom(r){for(var o=0,a=!0;a;){var t=Math.floor(Math.random()*board_width),d=Math.floor(Math.random()*board_width),e=Math.floor(20*Math.random());0==e%2?(dx=0,dy=1):(dx=1,dy=0),a=board_width*board_board>o&&!PathIsClear(t,d,dx,dy,r),o++}PathIsClear(t,d,dx,dy,r)&&PlaceWord(t,d,dx,dy,r)}function PlaceAtBestCrossing(r,o){var a=r[0][1],t=r[0][2],d=r[0][3],e=r[0][4];PlaceWord(a,t,d,e,o)}function BuildCrossword(){ClearBoard(),Horizontal=[],Vertical=[],clues=[],crossings=0,board_width=14,board_board=14,xwordlist=[],xwordlist=getRandomSubarray(wordlist,100);for(var r=[],o=[];xwordlist.length>0;){var a=xwordlist.pop(),t=CrossablePlaces(a);t.length>0?(PlaceAtBestCrossing(t,a),crossings++):-1==r.indexOf(a)?(r.push(a),xwordlist.push(a)):-1==o.indexOf(a)?(o.push(a),xwordlist.push(a)):PlaceAtRandom(a)}}function ScreenDumpCrossword(){for(x=0;board_width>x;x++)for(y=0;board_width>y;y++)board[x][y];for(var r=0;r<Vertical.length;r++);for(var r=0;r<Horizontal.length;r++);}function CrosswordTable(){for(x=0;board_width>x;x++)for(y=0;board_width>y;y++){board[x][y]}for(var r=0;r<Vertical.length;r++);for(var r=0;r<Horizontal.length;r++);}for(var board=[],wordlist=word_list,board_width=14,board_board=14,Horizontal=[],Vertical=[],clues=[],crossings=0,threshold=19,attempts=0;threshold>crossings;)BuildCrossword(),attempts>50&&(threshold-=1,attempts=0),attempts++;CrosswordTable();var oygCrosswordPuzzle=new oyCrosswordPuzzle("5748185539682739085","./oy-cword-1.0","/a/a","","",clues,14,14);oygCrosswordPuzzle.canTalkToServer=!1;